Menu="Dashboard:0"
---
<?php
$plugin = "docker-stats";
$pluginname = "Docker Stats";

// Load configuration
require_once('/usr/local/emhttp/plugins/docker-stats/config.php');

$mytiles[$pluginname]['column2'] =
<<<EOT
<tbody id="tblDockerStats" title="Docker Stats">
    <tr>
        <td>
            <span class="tile-header">
                <span class="tile-header-left">
                    <i class="fa fa-docker f32"></i>
                    <div class="section">
                        <h3 class="tile-header-main">DOCKER STATS</h3>
                        <span id="docker-stats-subtitle">Top {$docker_stats_container_limit} Containers</span>
                    </div>
                </span>
                <span class="tile-header-right">
                    <span class="tile-header-right-controls">
                        <a href="/Settings/DockerStatsSettings" title="Settings"><i class="fa fa-fw fa-cog control"></i></a>
                    </span>
                </span>
            </span>
        </td>
    </tr>
    <tr>
        <td>
            <div id="docker-stats-list" class="docker-stats-list">
                <div class="docker-stats-loading">Loading stats...</div>
            </div>
        </td>
    </tr>
</tbody>
EOT;
?>

<link rel="stylesheet" href="/plugins/<?php echo $plugin; ?>/styles.css">
<script src="/plugins/<?php echo $plugin; ?>/stats.js"></script>

<script>
// Init
$(document).ready(function() {
    var refreshInterval = <?php echo $docker_stats_refresh_interval * 1000; ?>; // Convert seconds to milliseconds
    setInterval(updateDockerStats, refreshInterval);
    updateDockerStats();
});
</script>
